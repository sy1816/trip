<!DOCTYPE html>
<html>

<head>

<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="">
<meta name="author" content="">

<title>Business Casual - Start Bootstrap Theme</title>

<!-- Bootstrap core CSS -->
<link href="css/bootstrap.css" rel="stylesheet">

<!-- Custom fonts for this template -->
<link
	href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800"
	rel="stylesheet" type="text/css">
<link
	href="https://fonts.googleapis.com/css?family=Josefin+Slab:100,300,400,600,700,100italic,300italic,400italic,600italic,700italic"
	rel="stylesheet" type="text/css">

<!-- Custom styles for this template -->
<link href="css/business-casual.css?v=1" rel="stylesheet">

<!-- Bootstrap core JavaScript -->
<script src="js/jquery.js"></script>
<script src="js/popper.js"></script>
<script src="js/bootstrap.js"></script>

<script type="text/javascript"
	src="//dapi.kakao.com/v2/maps/sdk.js?appkey=d372aa7ece602b7f0fbeace511893429&libraries=services,cluster,drawing"></script>

<style>
.wrap {
	position: absolute;
	left: 0;
	bottom: 40px;
	width: 288px;
	height: 132px;
	margin-left: -144px;
	text-align: left;
	overflow: hidden;
	font-size: 12px;
	font-family: 'Malgun Gothic', dotum, '돋움', sans-serif;
	line-height: 1.5;
}

.wrap * {
	padding: 0;
	margin: 0;
}

.wrap .info {
	width: 286px;
	height: 120px;
	border-radius: 5px;
	border-bottom: 2px solid #ccc;
	border-right: 1px solid #ccc;
	overflow: hidden;
	background: #fff;
}

.wrap .info:nth-child(1) {
	border: 0;
	box-shadow: 0px 1px 2px #888;
}

.info .title {
	padding: 5px 0 0 10px;
	height: 30px;
	background: #eee;
	border-bottom: 1px solid #ddd;
	font-size: 18px;
	font-weight: bold;
}

.info .close {
	position: absolute;
	top: 10px;
	right: 10px;
	color: #888;
	width: 17px;
	height: 17px;
	background:
		url('http://t1.daumcdn.net/localimg/localimages/07/mapapidoc/overlay_close.png');
}

.info .close:hover {
	cursor: pointer;
}

.info .body {
	position: relative;
	overflow: hidden;
}

.info .desc {
	position: relative;
	margin: 13px 0 0 90px;
	height: 75px;
}

.desc .ellipsis {
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;
}

.desc .jibun {
	font-size: 11px;
	color: #888;
	margin-top: -2px;
}

.info .img {
	position: absolute;
	top: 6px;
	left: 5px;
	width: 73px;
	height: 71px;
	border: 1px solid #ddd;
	color: #888;
	overflow: hidden;
}

.info:after {
	content: '';
	position: absolute;
	margin-left: -12px;
	left: 50%;
	bottom: 0;
	width: 22px;
	height: 12px;
	background:
		url('http://t1.daumcdn.net/localimg/localimages/07/mapapidoc/vertex_white.png')
}

.info .link {
	color: #5085BB;
}
</style>


</head>

<body>


	<div
		class="tagline-upper text-center text-heading text-shadow text-white mt-4 d-none d-lg-block">
		<red>TOUR</red>
		for Korea
	</div>
	<div
		class="tagline-lower text-center text-expanded text-shadow text-uppercase text-white mb-4 d-none d-lg-block">
		<red>T</red>
		rip
		<red>O</red>
		n
		<red>U</red>
		ser-adapted
		<red>R</red>
		ecommendations
	</div>

	<!-- Navigation -->
	<nav class="navbar navbar-expand-lg navbar-light bg-faded py-lg-3">
		<div class="container">
			<a
				class="navbar-brand text-uppercase text-expanded font-weight-bold d-lg-none"
				href="#">Start Bootstrap</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse"
				data-target="#navbarResponsive" aria-controls="navbarResponsive"
				aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarResponsive">
				<ul class="navbar-nav mx-auto">
					<li class="nav-item  px-lg-4"><a
						class="nav-link text-uppercase text-expanded" href="home3.html">Home
					</a></li>
					<li class="nav-item px-lg-4"><a
						class="nav-link text-uppercase text-expanded" href="search2.html">Search</a>
					</li>
					<li class="nav-item px-lg-4"><a
						class="nav-link text-uppercase text-expanded" href="analysis.html">Analysis</a>
					</li>
					<li class="nav-item active px-lg-4"><a
						class="nav-link text-uppercase text-expanded"
						href="recommend_input2.html">Recommend <span class="sr-only">(current)</span>
					</a></li>
				</ul>
			</div>
		</div>
	</nav>

	<div class="container">

		<div class="bg-faded p-4 my-4 text-center">
			<!-- 여기서 입력 받습니다. -->

			<hr class="divider">
			<h2 class="text-center text-lg text-uppercase my-0">Recommend
				Spot</h2>
			<hr class="divider pb-2">
			<p style="text-align: center" id = "person_title"></p>
			
			<div class="row  pb-4">
          	<div class="col-md-7">
         	 	<div class="card mb-3">
				<div class="card-header">
					<i class="fa fa-pie-chart"></i> More information
				</div>
   			<!-- 표 -->
			<!--  <p style="text-align: center">Click the tour spot. Then, You can see the information on the tour spot..</p>
			-->
			<!-- 여기서 입력 받습니다. -->
			<div class="card-body">
			<div class="table-responsive">
              <table class="table table-bordered table-hover" width="100%" id="dataTable2" cellspacing="0">
                <thead align="center">
                  <tr align="center">
                    <th align="center" width = "10%">Rank </th>
                    <th align="center">Tourspot</th>
                    <th align="center">Address</th>
                  </tr>
                </thead>

                <tbody id = "table_body">
                </tbody>
              </table>
            </div>
            </div>
            </div>
   			<!-- 표끝 -->
   			</div>
   			
   			
   			
   			<div class="col-md-5">
			<!--  추천여행지 map ! -->
				<div class="card mb-3">
						<div class="card-header">
							<i class="fa fa-pie-chart"></i> Map
						</div>
				<div class="card-body">
			<div id="map" style="width: 100%; height: 400px;"></div>
			<br>
			<p>
				<button pb-5 class="btn btn-default" onclick="setOverlayMapTypeId('traffic')">교통정보 보기</button>
				<button  class="btn btn-default" onclick="setOverlayMapTypeId('roadview')">로드뷰 도로정보
					보기</button>
				<br><button  class="btn btn-default" onclick="setOverlayMapTypeId('terrain')">지형정보 보기</button>
				<button  class="btn btn-default" onclick="setOverlayMapTypeId('use_district')">지적편집도
					보기</button>
				<!-- <button onclik ="setBounds()">여행지 범위</button> -->
			</p>


			<script type="text/javascript">
					
					// param 찾는 함수
					function getParam ( sname )
					{
					  var params = location.search.substr(location.search.indexOf("?")+1);
					  var sval = "";
					  params = params.split("&");
					    // split param and value into individual pieces
					    for (var i=0; i<params.length; i++)
					       {
					         temp = params[i].split("=");
					         if ( [temp[0]] == sname ) { sval = temp[1]; }
					       }
					  return sval;
					}
					
						// AJAX JSON 데이터 받아요기.
						var param = {};
						var json;
						
						var gender_ = getParam("gender");
						var age_ =  getParam("age");
						var nation_ =  getParam("nation");
						var job_ =  getParam("job");
						var with_ =  getParam("with");
						var purpose_ =  getParam("purpose");
						var month_ =  getParam("month");
						
						var str_temp = "Recommendations with : ";
						
						
						if(gender_=="1"){
							str_temp = str_temp.concat("Male, ");
						} else if(gender_=="2"){
							str_temp = str_temp.concat("Female, ");
						}
						
						if(age_ =="0"){
							str_temp = str_temp.concat("10s, ");
						}else if(age_ =="1"){
							str_temp = str_temp.concat("20s, ");
						}else if(age_ =="2"){
							str_temp = str_temp.concat("30s, ");
						}else if(age_ =="3"){
							str_temp = str_temp.concat("40s, ");
						}else if(age_ =="4"){
							str_temp = str_temp.concat("50s, ");
						}else if(age_ =="5"){
							str_temp = str_temp.concat("60s more, ");
						}
						
						if(nation_ == "1"){
							str_temp = str_temp.concat("Japan, ");
						}else if(nation_ == "2"){
							str_temp = str_temp.concat("China, ");
						}else if(nation_ == "3"){
							str_temp = str_temp.concat("Hongkong, ");
						}else if(nation_ == "4"){
							str_temp = str_temp.concat("Singapore, ");
						}else if(nation_ == "5"){
							str_temp = str_temp.concat("Taiwan, ");
						}else if(nation_ == "6"){
							str_temp = str_temp.concat("Thailand, ");
						}else if(nation_ == "7"){
							str_temp = str_temp.concat("Malaysia, ");
						}else if(nation_ == "8"){
							str_temp = str_temp.concat("Australia, ");
						}else if(nation_ == "9"){
							str_temp = str_temp.concat("U.S.A, ");
						}else if(nation_ == "10"){
							str_temp = str_temp.concat("Canada, ");
						}else if(nation_ == "11"){
							str_temp = str_temp.concat("U.K, ");
						}else if(nation_ == "12"){
							str_temp = str_temp.concat("Germany, ");
						}else if(nation_ == "13"){
							str_temp = str_temp.concat("France, ");
						}else if(nation_ == "14"){
							str_temp = str_temp.concat("Russia, ");
						}else if(nation_ == "15"){
							str_temp = str_temp.concat("the Mideast, ");
						}else if(nation_ == "16"){
							str_temp = str_temp.concat("India, ");
						}else if(nation_ == "97"){
							str_temp = str_temp.concat("the Others, ");
						}
						
						if(job_ == "1"){
							str_temp = str_temp.concat("Civil servant / Soldier, ");
						}else if(job_ == "2"){
							str_temp = str_temp.concat("Businessman / Manager, ");
						}else if(job_ == "3"){
							str_temp = str_temp.concat("Office job / Technical post, ");
						}else if(job_ == "4"){
							str_temp = str_temp.concat("Sales / Service, ");
						}else if(job_ == "5"){
							str_temp = str_temp.concat("Specialized job, ");
						}else if(job_ == "6"){
							str_temp = str_temp.concat("Production employee / Simple labor, ");
						}else if(job_ == "7"){
							str_temp = str_temp.concat("Owner-operator, ");
						}else if(job_ == "8"){
							str_temp = str_temp.concat("Student, ");
						}else if(job_ == "9"){
							str_temp = str_temp.concat("Housewife, ");
						}else if(job_ == "10"){
							str_temp = str_temp.concat("Retiree, ");
						}else if(job_ == "11"){
							str_temp = str_temp.concat("Inoccupation, ");
						}else if(job_ == "12"){
							str_temp = str_temp.concat("the Others, ");
						}
					
						if(with_ == "1"){
							str_temp = str_temp.concat("Solo, ");
						}else if(with_ == "2"){
							str_temp = str_temp.concat("Family / Relative, ");
						}else if(with_ == "3"){
							str_temp = str_temp.concat("Friend / Couple, ");
						}else if(with_ == "4"){
							str_temp = str_temp.concat("Colleague, ");
						}else if(with_ == "5"){
							str_temp = str_temp.concat("the Others, ");
						}
						
						if(purpose_ == "1"){
							str_temp = str_temp.concat("Leisure, Amusement & Individual vacation, ");
						}else if(purpose_ == "2"){
							str_temp = str_temp.concat("Beauty, Health & Therapy, ");
						}else if(purpose_ == "3"){
							str_temp = str_temp.concat("Religion and pilgrimage, ");
						}else if(purpose_ == "4"){
							str_temp = str_temp.concat("Shopping, ");
						}else if(purpose_ == "5"){
							str_temp = str_temp.concat("Visit friends and relatives, ");
						}else if(purpose_ == "6"){
							str_temp = str_temp.concat("Business or professional activity, ");
						}else if(purpose_ == "7"){
							str_temp = str_temp.concat("Education, ");
						}
						
						if(month_ == "1"){
							str_temp = str_temp.concat("January, ");
						}else if(month_ == "2"){
							str_temp = str_temp.concat("Febuary, ");
						}else if(month_ == "3"){
							str_temp = str_temp.concat("March, ");
						}else if(month_ == "4"){
							str_temp = str_temp.concat("April, ");
						}else if(month_ == "5"){
							str_temp = str_temp.concat("May, ");
						}else if(month_ == "6"){
							str_temp = str_temp.concat("June, ");
						}else if(month_ == "7"){
							str_temp = str_temp.concat("July, ");
						}else if(month_ == "8"){
							str_temp = str_temp.concat("August, ");
						}else if(month_ == "9"){
							str_temp = str_temp.concat("September, ");
						}else if(month_ == "10"){
							str_temp = str_temp.concat("October, ");
						}else if(month_ == "11"){
							str_temp = str_temp.concat("November, ");
						}else if(month_ == "12"){
							str_temp = str_temp.concat("December, ");
						}
						
						
						str_temp = str_temp.substring(0, str_temp.length-2);
						$("#person_title").text(str_temp);
						
						var position1;
						var	position2;
						var	position3;
						var	position4;
						var	position5;
						
						var bounds=new daum.maps.LatLngBounds();
						var setOverlayMapTypeId;
						var setBounds;
						
						var closeOverlay;
						var closeOverlay2;
						var closeOverlay3;
						var closeOverlay4;
						var closeOverlay5;
						
						var currentTypeId;
						
						//표column
						var table_state = false;
						var table_template = "<tr data-href='_SITE'><td>_RANK</td><td>_NAME</td><td>_ADDRESS</td></tr>";
						var result_url="";
						var str = "";
						var s = "";
						$.ajax({
							url : "score_recommend.jsp",
							type : "GET",
							data : {gender : gender_, age : age_, nation : nation_, job : job_, with : with_, purpose : purpose_, month : month_},
							success : function(data) {
								console.log("성공")
								json = JSON.parse(data)
								console.log(data)
								
								//for table
					json.forEach(function(item, index) {
		   			s = table_template;
		   			result_url = "tourspot.html?id=" + item.id;
		   			
		   			s = s.replace("_SITE", result_url);
		   			s = s.replace("_RANK", index+1);
		   			s = s.replace("_NAME", item.name);
		   			s = s.replace("_ADDRESS", item.address);
		   			str += s;
		   		});
		   		$("#table_body").empty;					
		   		$("#table_body").append(str);
					console.log("SUCCESS");
					  $(document).ready(function() {
						    $('#dataTable2').DataTable();
						  });
					  
								var container = document.getElementById('map');
								var options = {
									
									//기본setting
									center : new daum.maps.LatLng(36.450701, 126.870667),
									level : 14 
/* 									center : new daum.maps.LatLng(37.57590409118165,126.97684292625047),
									level : 8 */
								};

								var map = new daum.maps.Map(container, options);
								var zoomControl = new daum.maps.ZoomControl();
								// 지도 오른쪽에 줌 컨트롤이 표시되도록 지도에 컨트롤을 추가한다.
								map.addControl(zoomControl,
										daum.maps.ControlPosition.RIGHT);
								
								
								setBounds = function setBounds(){
									map.setBounds(bounds);
								}


								// 1.버튼클릭시 지도선택 함수
								setOverlayMapTypeId = function setOverlayMapTypeId(maptype) {
									var changeMaptype;
									// 이미 등록된 지도 타입 제거
									if (currentTypeId) {
										map.removeOverlayMapTypeId(currentTypeId);
									}
									if (maptype === 'traffic') {
										changeMaptype = daum.maps.MapTypeId.TRAFFIC;

									} else if (maptype === 'roadview') {
										changeMaptype = daum.maps.MapTypeId.ROADVIEW;

									} else if (maptype === 'terrain') {
										changeMaptype = daum.maps.MapTypeId.TERRAIN;

									} else if (maptype === 'use_district') {
										changeMaptype = daum.maps.MapTypeId.USE_DISTRICT;
										
									}

									
									// 선택한 지도정보 추가
									map.addOverlayMapTypeId(changeMaptype);

									// 갱신
									currentTypeId = changeMaptype;
								}

								
								
								//2.지도위에 마커 표시

								//for 다중마커
								 position1 = {
									title : json[0].name,
									addr : json[0].address,
									image : json[0].img_url1,
									id : json[0].id
									};
								position2 = {
									title : json[1].name,
									addr : json[1].address,
									image : json[1].img_url1,
									id : json[1].id
									};
								position3 = {
									title : json[2].name,
									addr : json[2].address,
									image : json[2].img_url1,
									id : json[2].id
									};
								position4 = {
									title : json[3].name,
									addr : json[3].address,
									image : json[3].img_url1,
									id : json[3].id
									};
								position5 = {
									title : json[4].name,
									addr : json[4].address,
									image : json[4].img_url1,
									id : json[4].id
									};

								var aaa,
								    marker,
								    imageSrc1 = 'img/m1.png',
								    imageSrc2 = 'img/m2.png',
								    imageSrc3 = 'img/m3.png',
								    imageSrc4 = 'img/m4.png',
								    imageSrc5 = 'img/m5.png',
								    imageSize = new daum.maps.Size(34,39);
								   // imageOption = {offset:new daum.maps.Point(50,50)};
								
//첫번쨰!!!
								   var geocoder = new daum.maps.services.Geocoder();
								geocoder
										.addressSearch(
												position1.addr,
												function(result, status) {
													console.log(position1.title)
													if (status === daum.maps.services.Status.OK) {
														coords = new daum.maps.LatLng(
																result[0].y,
																result[0].x);
														
														var markerImage1 = new daum.maps.MarkerImage(imageSrc1,imageSize);
														    
														marker = new daum.maps.Marker({
															map : map,
															position : coords,
															image:markerImage1,
															clickable : true

														});
														
														bounds.extend(coords);

														var content = '<div class="wrap">'
																+ '    <div class="info">'
																+ '        <div class="title">'
																+ position1.title
																+ '            <div class="close" onclick="closeOverlay()" title="닫기"></div>'
																+ '        </div>'
																+ '        <div class="body">'
																+ '            <div class="img">'
																+ '                <img src="'+ position1.image+'" width="73" height="70">'
																+ '           </div>'
																+ '            <div class="desc">'
																+ '                <div class="ellipsis">'
																+ position1.addr
																+ '</div>'
																+
																// '                <div class="jibun ellipsis">(우) 63309 (지번) 영평동 2181</div>' + 
																'                <div><a href="tourspot.html?id='+position1.id+'" class="link">상세정보</a></div>'
																+ '            </div>'
																+ '        </div>'
																+ '    </div>'
																+ '</div>';



														var overlay = new daum.maps.CustomOverlay(
																{
																	content : content,
																	map : map,
																	position : coords

														});
														
														overlay.setMap(null);

														closeOverlay = function closeOverlay() {
															overlay.setMap(null);
														}
														
														
														daum.maps.event.addListener(marker,'click',
																		function() {
																			overlay.setMap(map);
																			
																		});
			
													}

												});

//2번쨰
//첫번쨰!!!
								   var geocoder2 = new daum.maps.services.Geocoder();
								geocoder2
										.addressSearch(
												position2.addr,
												function(result, status) {
													console.log(position2.title)
													if (status === daum.maps.services.Status.OK) {
														coords = new daum.maps.LatLng(
																result[0].y,
																result[0].x);
														
														var markerImage2 = new daum.maps.MarkerImage(imageSrc2,imageSize);
														    
														marker = new daum.maps.Marker({
															map : map,
															position : coords,
															image:markerImage2,
															clickable : true

														});
														
														bounds.extend(coords);

														var content = '<div class="wrap">'
																+ '    <div class="info">'
																+ '        <div class="title">'
																+ position2.title
																+ '            <div class="close" onclick="closeOverlay2()" title="닫기"></div>'
																+ '        </div>'
																+ '        <div class="body">'
																+ '            <div class="img">'
																+ '                <img src="'+ position2.image+'" width="73" height="70">'
																+ '           </div>'
																+ '            <div class="desc">'
																+ '                <div class="ellipsis">'
																+ position2.addr
																+ '</div>'
																+
																// '                <div class="jibun ellipsis">(우) 63309 (지번) 영평동 2181</div>' + 
																'                <div><a href="tourspot.html?id='+position2.id+'" class="link">상세정보</a></div>'
																+ '            </div>'
																+ '        </div>'
																+ '    </div>'
																+ '</div>';



														var overlay = new daum.maps.CustomOverlay(
																{
																	content : content,
																	map : map,
																	position : coords

														});
														
														overlay.setMap(null);

														closeOverlay2 = function closeOverlay2() {
															overlay.setMap(null);
														}
														
														
														daum.maps.event.addListener(marker,'click',
																		function() {
																			overlay.setMap(map);
																			
																		});
			
													}

												});

//3번쨰

								   var geocoder3 = new daum.maps.services.Geocoder();
								geocoder3
										.addressSearch(
												position3.addr,
												function(result, status) {
													console.log(position3.title)
													if (status === daum.maps.services.Status.OK) {
														coords = new daum.maps.LatLng(
																result[0].y,
																result[0].x);
														
														var markerImage3 = new daum.maps.MarkerImage(imageSrc3,imageSize);
														    
														marker = new daum.maps.Marker({
															map : map,
															position : coords,
															image:markerImage3,
															clickable : true

														});
														
														bounds.extend(coords);

														var content = '<div class="wrap">'
																+ '    <div class="info">'
																+ '        <div class="title">'
																+ position3.title
																+ '            <div class="close" onclick="closeOverlay3()" title="닫기"></div>'
																+ '        </div>'
																+ '        <div class="body">'
																+ '            <div class="img">'
																+ '                <img src="'+ position3.image+'" width="73" height="70">'
																+ '           </div>'
																+ '            <div class="desc">'
																+ '                <div class="ellipsis">'
																+ position3.addr
																+ '</div>'
																+
																// '                <div class="jibun ellipsis">(우) 63309 (지번) 영평동 2181</div>' + 
																'                <div><a href="tourspot.html?id='+position3.id+'" class="link">상세정보</a></div>'
																+ '            </div>'
																+ '        </div>'
																+ '    </div>'
																+ '</div>';



														var overlay = new daum.maps.CustomOverlay(
																{
																	content : content,
																	map : map,
																	position : coords

														});
														
														overlay.setMap(null);

														closeOverlay3 = function closeOverlay3() {
															overlay.setMap(null);
														}
														
														
														daum.maps.event.addListener(marker,'click',
																		function() {
																			overlay.setMap(map);
																			
																		});
			
													}

												});

//4번쨰

								   var geocoder4 = new daum.maps.services.Geocoder();
								geocoder4
										.addressSearch(
												position4.addr,
												function(result, status) {
													console.log(position4.title)
													if (status === daum.maps.services.Status.OK) {
														coords = new daum.maps.LatLng(
																result[0].y,
																result[0].x);
														
														var markerImage4 = new daum.maps.MarkerImage(imageSrc4,imageSize);
														    
														marker = new daum.maps.Marker({
															map : map,
															position : coords,
															image:markerImage4,
															clickable : true

														});
														
														bounds.extend(coords);

														var content = '<div class="wrap">'
																+ '    <div class="info">'
																+ '        <div class="title">'
																+ position4.title
																+ '            <div class="close" onclick="closeOverlay4()" title="닫기"></div>'
																+ '        </div>'
																+ '        <div class="body">'
																+ '            <div class="img">'
																+ '                <img src="'+ position4.image+'" width="73" height="70">'
																+ '           </div>'
																+ '            <div class="desc">'
																+ '                <div class="ellipsis">'
																+ position4.addr
																+ '</div>'
																+
																// '                <div class="jibun ellipsis">(우) 63309 (지번) 영평동 2181</div>' + 
																'                <div><a href="tourspot.html?id='+position4.id+'" class="link">상세정보</a></div>'
																+ '            </div>'
																+ '        </div>'
																+ '    </div>'
																+ '</div>';



														var overlay = new daum.maps.CustomOverlay(
																{
																	content : content,
																	map : map,
																	position : coords

														});
														
														overlay.setMap(null);

														closeOverlay4 = function closeOverlay4() {
															overlay.setMap(null);
														}
														
														
														daum.maps.event.addListener(marker,'click',
																		function() {
																			overlay.setMap(map);
																			
																		});
			
													}

												});


//5번쨰
						
								   var geocoder5 = new daum.maps.services.Geocoder();
								geocoder5
										.addressSearch(
												position5.addr,
												function(result, status) {
													console.log(position5.title)
													if (status === daum.maps.services.Status.OK) {
														coords = new daum.maps.LatLng(
																result[0].y,
																result[0].x);
														
														var markerImage5 = new daum.maps.MarkerImage(imageSrc5,imageSize);
														    
														marker = new daum.maps.Marker({
															map : map,
															position : coords,
															image:markerImage5,
															clickable : true

														});
														
														bounds.extend(coords);

														var content = '<div class="wrap">'
																+ '    <div class="info">'
																+ '        <div class="title">'
																+ position5.title
																+ '            <div class="close" onclick="closeOverlay5()" title="닫기"></div>'
																+ '        </div>'
																+ '        <div class="body">'
																+ '            <div class="img">'
																+ '                <img src="'+ position5.image+'" width="73" height="70">'
																+ '           </div>'
																+ '            <div class="desc">'
																+ '                <div class="ellipsis">'
																+ position5.addr
																+ '</div>'
																+
																// '                <div class="jibun ellipsis">(우) 63309 (지번) 영평동 2181</div>' + 
																'                <div><a href="tourspot.html?id='+position5.id+'" class="link">상세정보</a></div>'
																+ '            </div>'
																+ '        </div>'
																+ '    </div>'
																+ '</div>';



														var overlay = new daum.maps.CustomOverlay(
																{
																	content : content,
																	map : map,
																	position : coords

														});
														
														overlay.setMap(null);

														closeOverlay5 = function closeOverlay5() {
															overlay.setMap(null);
														}
														
														
														daum.maps.event.addListener(marker,'click',
																		function() {
																			overlay.setMap(map);
																			
																		});
			
													}

												});
 
								



							}
						}); // ajax 끝
						table_state = true;
						
						$(document).on("click", "tr", function() {
							if($(this).data("href") != undefined){
						        document.location = $(this).data('href');
//						        console.log($(this).data('href'));
							}
					        return false;
						 });
						
						
//						var json = '{ "name":"대청호반", "address" : "전라남도 담양군 담양읍 죽녹원로 119"}'
//						json = JSON.parse(json);


						//markerset에 marker추가
						function addMarker(position) {
							var marker = new daum.maps.Marker({
								position : position
							});

							marker.setMap(map);
							markerset.push(marker);

						}
						function addwindow(title) {
							//마커+설명표시
							var infowindow = new daum.maps.InfoWindow(
									{
										content : '<div style="width:150px;text-align:center;padding:6px 0;"> '
												+ title + ' </div>'
									});
							infowindowset.push(infowindow);
						}
						//markerset에 잇는 마커 지도에 추가
						function setMarkers(map) {
							for (var i = 0; i < markerset.length; i++) {
								markerset[i].setMap(map);
								infowindow[i].open(map, marker)
							}
						}

					</script>
		</div>
		</div>
		</div>
		</div>

		</div>
		<!--  Input Fade -->
	</div>
	<!-- /.container -->

	<footer class="bg-faded text-center py-5">
		<div class="container">
			<p class="m-0">Copyright &copy; Your Website 2017</p>
		</div>
	</footer>

</body>

</html>
