<!DOCTYPE html>
<html>

<head>

<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="">
<meta name="author" content="">

<title>TOUR for Korea</title>

<!-- Bootstrap core CSS -->
<link href="css/bootstrap.css" rel="stylesheet">

<!-- Custom fonts for this template -->
<link
	href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800"
	rel="stylesheet" type="text/css">
<link
	href="https://fonts.googleapis.com/css?family=Josefin+Slab:100,300,400,600,700,100italic,300italic,400italic,600italic,700italic"
	rel="stylesheet" type="text/css">

<!-- Custom styles for this template -->
<link href="css/business-casual.css?ver=da" rel="stylesheet">
<link href="css/sb-admin.css?ver=2" rel="stylesheet">


<!-- Bootstrap core JavaScript -->
<script src="js/jquery.js"></script>
<script src="js/jquery.easing.js"></script>
<script src="js/popper.js"></script>
<script src="js/bootstrap.js"></script>
<script src="js/Chart.js"></script>

<script type="text/javascript">
	// param 찾는 함수
	function getParam(sname) {
		var params = location.search.substr(location.search.indexOf("?") + 1);
		var sval = "";
		params = params.split("&");
		// split param and value into individual pieces
		for (var i = 0; i < params.length; i++) {
			temp = params[i].split("=");
			if ([ temp[0] ] == sname) {
				sval = temp[1];
			}
		}
		return sval;
	}
	

	
	var id_;
	id_ = getParam("id");
	
	var json_data;
	
	// Print_Info Method
	$(document).ready(function() {

		var table_template = "<tr data-href='_SITE'><td>_RANK</td><td>_NAME</td><td>_AREA</td><td>_ADDRESS</td></tr>";
		var s = "";
		var str = "";
		
		$.ajax({
			url : "search.jsp",
			type : "GET",
			data : {id : id_},
			success : function(data) {
				json_data = JSON.parse(data);

		   		$("#tourspot_title").append(json_data.tourspot);
				$("#img_1").attr("src", json_data.image_url1);
				$("#img_2").attr("src", json_data.image_url2);
				// 여기까지가 관광지 개요 정보
				
				// 이후부터 관광지 통계 정보
				pieChart();
			}
		});
	});
	
</script>

</head>

<body id="page-top">


    <div class="tagline-upper text-center text-heading text-shadow text-white mt-4 d-none d-lg-block"><red>TOUR</red> for Korea</div>
    <div class="tagline-lower text-center text-expanded text-shadow text-uppercase text-white mb-4 d-none d-lg-block"><red>T</red>rip <red>O</red>n <red>U</red>ser-adapted <red>R</red>ecommendations</div>

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light bg-faded py-lg-3">
		<div class="container">
			<a
				class="navbar-brand text-uppercase text-expanded font-weight-bold d-lg-none"
				href="#">Start Bootstrap</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse"
				data-target="#navbarResponsive" aria-controls="navbarResponsive"
				aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarResponsive">
				<ul class="navbar-nav mx-auto">
					<li class="nav-item  px-lg-4"><a
						class="nav-link text-uppercase text-expanded" href="home3.html">Home
							<span class="sr-only">(current)</span>
					</a></li>
					<li class="nav-item active px-lg-4"><a
						class="nav-link text-uppercase text-expanded" href="search2.html">Search</a>
					</li>
					<li class="nav-item px-lg-4"><a
						class="nav-link text-uppercase text-expanded" href="analysis.html">Analysis</a>
					</li>
					<li class="nav-item px-lg-4"><a
						class="nav-link text-uppercase text-expanded"
						href="recommend_input2.html">Recommend</a></li>
				</ul>
			</div>
		</div>
	</nav>

	<div class="container">

		<div class="bg-faded p-4 my-4">
			<hr class="divider">
			<h2 class="text-center text-lg text-uppercase my-0"
				id="tourspot_title"></h2>
			<hr class="divider">

			<!-- Image Carousel -->
			<div id="carouselExampleIndicators" class="carousel slide"
				data-ride="carousel">
				<ol class="carousel-indicators">
					<li data-target="#carouselExampleIndicators" data-slide-to="0"
						class="active"></li>
					<li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
				</ol>
				<div class="carousel-inner" role="listbox"
					style="width: 100%; height: 500px !important;">
					<div class="carousel-item active">
						<img class="d-block img-fluid w-100" src="" id="img_1" alt="">
					</div>
					<div class="carousel-item">
						<img class="d-block img-fluid w-100" src="" id="img_2" alt="">
					</div>
				</div>
				<a class="carousel-control-prev" href="#carouselExampleIndicators"
					role="button" data-slide="prev"> <span
					class="carousel-control-prev-icon" aria-hidden="true"></span> <span
					class="sr-only">Previous</span>
				</a> <a class="carousel-control-next" href="#carouselExampleIndicators"
					role="button" data-slide="next"> <span
					class="carousel-control-next-icon" aria-hidden="true"></span> <span
					class="sr-only">Next</span>
				</a>
			</div>
		</div>

		<!-- 개요 종료 -->

		<!-- 관광지 통계 정보 -->
		<div class="bg-faded p-4 my-4">
			<hr class="divider">
			<h2 class="text-center text-lg text-uppercase my-0">statistical
				information</h2>
			<hr class="divider pb-3">

			<div class="row">
				<div class="col-lg-5">
					<div class="card mb-3">
						<div class="card-header">
							<i class="fa fa-pie-chart"></i> Pie Chart Example
						</div>
						<div class="card-body">
							<canvas id="myPieChart" width="100%" height="100"></canvas>
						</div>
						<div class="card-body py-2 small  text-center" >
							<hr class="mt-0 mb-3">

							<!--  Button -->


							<div class="btn-group">
								<button type="button" class="btn btn-primary dropdown-toggle"
									data-toggle="dropdown" id="button1">
									Type <span class="caret"></span>
								</button>
								<ul class="dropdown-menu" role="menu" style = "text-align : center;">
									<li><a href="#">Gender</a></li>
									<li><a href="#">Month</a></li>
									<li><a href="#">Nation</a></li>
									<li><a href="#">Purpose</a></li>
									<li><a href="#">With</a></li>
									<li><a href="#">Job</a></li>
								</ul>
							</div>


							<!--  Button End -->


						</div>
						<div class="card-footer small text-muted">Updated yesterday
							at 11:59 PM</div>
					</div>
				</div>

				<div class="col-lg-7">
					<!-- Example Bar Chart Card -->
					<div class="card mb-3">
						<div class="card-header">
							<i class="fa fa-bar-chart"></i> Bar Chart Example
						</div>
						<div class="card-body">
							<div class="row">
								<div class="col-sm-8 my-auto">
									<canvas id="myBarChart" width="100" height="100"></canvas>
								</div>
								<div class="col-sm-4 text-center my-auto">
									<div class="h4 mb-0 text-primary">$34,693</div>
									<div class="small text-muted">YTD Revenue</div>
									<hr>
									<div class="h4 mb-0 text-warning">$18,474</div>
									<div class="small text-muted">YTD Expenses</div>
									<hr>
									<div class="h4 mb-0 text-success">$16,219</div>
									<div class="small text-muted">YTD Margin</div>
								</div>
							</div>
						</div>
						<div class="card-footer small text-muted">Updated yesterday
							at 11:59 PM</div>
					</div>

				</div>


			</div>
			<!--  row end -->

		</div>
		<!--  관광지 통계 정보 종료 -->


		<!-- 연관규칙 정보 -->

		<div class="bg-faded p-4 my-4">
			<hr class="divider">
			<h2 class="text-center text-lg text-uppercase my-0">
				Favorite <strong>Tour Spot</strong>
			</h2>
			<hr class="divider">

			<div class="table-responsive">
				<table class="table table-bordered table-hover text-center"
					width="100%" cellspacing="0">
					<thead>
						<tr>
							<th class="text-center" width="30%">Tourspot</th>
							<th class="text-center" width="10%">Area</th>
							<th class="text-center">Address</th>
						</tr>
					</thead>
					<tbody id="table_body">
						<tr>
							<td>장소#1</td>
							<td>지역#1</td>
							<td>주소#1</td>
						</tr>
						<tr>
							<td>장소#2</td>
							<td>지역#2</td>
							<td>주소#2</td>
						</tr>
						<tr>
							<td>장소#3</td>
							<td>지역#3</td>
							<td>주소#3</td>
						</tr>
					</tbody>
				</table>
			</div>




		</div>

		<!--  그림 정보 -->
		<div class="bg-faded p-4 my-4">
			<hr class="divider">
			<h2 class="text-center text-lg text-uppercase my-0">
				Favorite <strong>Tour Spot</strong>
			</h2>
			<hr class="divider">
			<div class="row  pb-4">
				<div class="col-md-3 mb-3 mb-md-0">
					<div class="card h-100">
						<img class="card-img-top" src="http://placehold.it/750x450" alt="">
						<div class="card-body text-center">
							<h4 class="card-title m-0">
								John Smith <small class="text-muted">Job Title</small>
							</h4>
						</div>
					</div>
				</div>
				<div class="col-md-3 mb-3 mb-md-0">
					<div class="card h-100">
						<img class="card-img-top" src="http://placehold.it/750x450" alt="">
						<div class="card-body text-center">
							<h4 class="card-title m-0">
								John Smith <small class="text-muted">Job Title</small>
							</h4>
						</div>
					</div>
				</div>
				<div class="col-md-3">
					<div class="card h-100">
						<img class="card-img-top" src="http://placehold.it/750x450" alt="">
						<div class="card-body text-center">
							<h4 class="card-title m-0">
								John Smith <small class="text-muted">Job Title</small>
							</h4>
						</div>
					</div>
				</div>
				<div class="col-md-3">
					<div class="card h-100">
						<img class="card-img-top" src="http://placehold.it/750x450" alt="">
						<div class="card-body text-center">
							<h4 class="card-title m-0">
								John Smith <small class="text-muted">Job Title</small>
							</h4>
						</div>
					</div>
				</div>
			</div>
			<!--  row  end -->

			<div class="row pb-4">
				<div class="col-md-3 mb-3 mb-md-0">
					<div class="card h-100">
						<img class="card-img-top" src="http://placehold.it/750x450" alt="">
						<div class="card-body text-center">
							<h4 class="card-title m-0">
								John Smith <small class="text-muted">Job Title</small>
							</h4>
						</div>
					</div>
				</div>
				<div class="col-md-3 mb-3 mb-md-0">
					<div class="card h-100">
						<img class="card-img-top" src="http://placehold.it/750x450" alt="">
						<div class="card-body text-center">
							<h4 class="card-title m-0">
								John Smith <small class="text-muted">Job Title</small>
							</h4>
						</div>
					</div>
				</div>
				<div class="col-md-3">
					<div class="card h-100">
						<img class="card-img-top" src="http://placehold.it/750x450" alt="">
						<div class="card-body text-center">
							<h4 class="card-title m-0">
								John Smith <small class="text-muted">Job Title</small>
							</h4>
						</div>
					</div>
				</div>
				<div class="col-md-3">
					<div class="card h-100">
						<img class="card-img-top" src="http://placehold.it/750x450" alt="">
						<div class="card-body text-center">
							<h4 class="card-title m-0">
								John Smith <small class="text-muted">Job Title</small>
							</h4>
						</div>
					</div>
				</div>
			</div>
			<!--  row  end -->

		</div>

	</div>
	<!-- /.container -->

	<!-- Scroll to Top Button -->
	<a class="scroll-to-top rounded" href="#page-top"> <i
		class="fa fa-angle-up"></i>
	</a>

	<footer class="bg-faded text-center py-5">
		<div class="container">
			<p class="m-0">Copyright &copy; Your Website 2017</p>
		</div>
	</footer>

	<script type="text/javascript">
	// -- Pie Chart Example
	// 파이 차트 만드는 함수
	
	var stastic_json;
	
	$(document).ready(function(){
		
		$.ajax({
			url : "stastic.jsp",
			type : "GET",
			data : {id : id_},
			success : function(data) {
				stastic_json = JSON.parse(data);
				  firstpieChart();
				  $(this).parents('.btn-group').find('.dropdown-toggle').html("Gender"+' <span class="caret"></span>');
			}
		});
		
		$(".dropdown-menu li a").click(function(){
			  var selText = $(this).text();
			  console.log(selText);
			  $(this).parents('.btn-group').find('.dropdown-toggle').html(selText+' <span class="caret"></span>');
			  pieChart(selText);
			});
	});
	
	var myPieChart = null;
	var CSS_COLOR_NAMES = ["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","Darkorange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"];
	
	function firstpieChart(){
		
		var ctx = document.getElementById("myPieChart");

		data_temp = stastic_json.gender_c;
		labels_temp = ["Man", "Woman"];

		myPieChart = new Chart(ctx, {
			  type: 'pie',
			  data: {
			    labels: labels_temp,
			    datasets: [{
			      data: data_temp,
			      backgroundColor: CSS_COLOR_NAMES,
			    }],
			  },
			});		
	}
		
	function pieChart(category){
		var data_temp;
		var color_temp;
		var labels_temp;

		if(category=="Gender"){
			data_temp = stastic_json.gender_c;
			labels_temp = ["Man", "Woman"];
		} else if(category=="Month"){
			data_temp = stastic_json.month_c;
			labels_temp = ["January", "Febuary", "March", "April","May","June","July","August","September","October","November","December",];
		} else if(category=="Nation"){
			data_temp = stastic_json.nation_c;
			labels_temp = ["Japan", "China", "Hongkong", "Singapore","Taiwan","Thailand","Malaysia","Australia","U.S.A","Canada","U.K","Germany", "France", "Russia", "the Mideast", "India"];
		} else if(category=="Job"){
			data_temp = stastic_json.category_c;
			labels_temp = ["Civil servant / Soldier", "Businessman / Manager", "Office job / Technical post", "Sales / Service","Specialized job","Production employee / Simple labor","Owner-operator", "Student", "Housewife", "Retiree", "Inoccupation", "the Others"];
		} else if(category=="Month"){
			data_temp = stastic_json.month_c;
			labels_temp = ["January", "Febuary", "March", "April","May","June","July","August","September","October","November","December",];
		}
		
		var ctx = document.getElementById("myPieChart");
		
		if(myPieChart != null){
			myPieChart.destroy();
		}
		
		myPieChart = new Chart(ctx, {
		  type: 'pie',
		  data: {
		    labels: labels_temp,
		    datasets: [{
		      data: data_temp,
		      backgroundColor: CSS_COLOR_NAMES,
		    }],
		  },
		});

/* 		var myPieChart = new Chart(ctx, {
			  type: 'pie',
			  data: {
			    labels: ["Blue", "Red", "Yellow", "Green", "DREAM", "FALSE"],
			    datasets: [{
			      data: data_temp,
			      backgroundColor: ['#007bff', '#dc3545', '#ffc107', '#28a745'],
			    }],
			  },
			});
 */	
	
	}
		

	// -- Bar Chart Example
	var ctx = document.getElementById("myBarChart");
	var myLineChart = new Chart(ctx, {
	  type: 'bar',
	  data: {
	    labels: ["January", "February", "March", "April", "May", "June", "July"],
	    datasets: [{
	      label: "Revenue",
	      backgroundColor: "rgba(2,117,216,1)",
	      borderColor: "rgba(2,117,216,1)",
	      data: [4215, 5312, 6251, 7841, 9821, 4984, 3324],
	    }],
	  },
	  options: {
	    scales: {
	      xAxes: [{
	        time: {
	          unit: 'month'
	        },
	        gridLines: {
	          display: false
	        },
	        ticks: {
	          maxTicksLimit: 6
	        }
	      }],
	      yAxes: [{
	        ticks: {
	          min: 0,
	          max: 15000,
	          maxTicksLimit: 5
	        },
	        gridLines: {
	          display: true
	        }
	      }],
	    },
	    legend: {
	      display: false
	    }
	  }
	});
	
	</script>

	<script type="text/javascript">
$(document).scroll(function() {
    var scrollDistance = $(this).scrollTop();
    if (scrollDistance > 100) {
      $('.scroll-to-top').fadeIn();
    } else {
      $('.scroll-to-top').fadeOut();
    }
  });


// Smooth scrolling using jQuery easing
$(document).on('click', 'a.scroll-to-top', function(event) {
  var $anchor = $(this);
  $('html, body').stop().animate({
    scrollTop: ($($anchor.attr('href')).offset().top)
  }, 1000, 'easeInOutExpo');
  event.preventDefault();
});

  
</script>


</body>

</html>
